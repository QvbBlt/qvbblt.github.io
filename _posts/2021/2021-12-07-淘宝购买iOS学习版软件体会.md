---
title: "淘宝购买iOS学习版软件体会"
date: 2021-12-07 15:42:23 +0800
author: hoochanlon
categories: [Mac/iPhone]
tags: [Mac/iPhone]
---

### 淘宝买断scanner pro的后续操作

在钱给到淘宝店家后，店家要了我的ID进行他特有的路子购买流程后，我的ID与软件进行了绑定，只是需要关闭在App Store上关闭更新。手机存下店家给的.ipa程序后（[.ipa程序链接，提取码：sfw1](https://pan.baidu.com/s/1n2j_2KjmdnAFkaegw-XPzA )），用Mac隔空投送到iPhone上，iPhone就自动安装上软件了，点击软件就可以使用了。

当时我感到惊奇，iOS不是没软件包吗？它这还绕过App Store，怎么搞到的软件包的？店家也回避了这方面的问题回答。我在查了网页资料后找到一些相关线索 <!-- more --> ：

* [PP助手、爱思助手、Apple Configurator 2抓包获取到安装文件](https://www.jianshu.com/p/fdb50d303ad6)
* [ios怎么下载老版本app?-知乎](https://www.zhihu.com/question/344479701/answer/816525672)
* [iTunes+http抓包软件](https://www.jianshu.com/p/acf915b4bd9a)

三个链接的内容的核心就是网络抓包，爱思应该是有个软件版本仓，所以可以下载到一些旧版软件。顺便猜测一下淘宝店家的路子：用旧版软件进行购买，在购买时可能对地区及时间做了调整，来完成这一系列的购买操作。

### 使用 httpcatcher

我在淘宝店家又购入一款软件，按照客服提示使用httpcatcher，翻看了httpcatcher软件的原话说明：它可以拦截、查看、修改和重复iOS的http请求。再联系我到之前看视频的一番操作，初步推测类似电脑里写入host来规避验证吧。后来再看了json文件算是明白了，json文件如下：

> 来源 [baipiaomonster](https://github.com/baipiaomonster/httpcatcher/blob/master/PDF%20%E7%82%B9%E7%9D%9B%20-%20PDF%E7%BC%96%E8%BE%91%E5%99%A8.json)

```json
{
  "name" : "PDF 点睛 - PDF编辑器 A+",
  "locations" : [
    {
      "method" : "POST",
      "scheme" : "https",
      "enabled" : true,
      "port" : 443,
      "query" : "",
      "host" : "license.pdfexpert.com",
      "path" : "\/api\/1.0\/pdfexpert6\/subscription\/refresh"
    }
  ],
  "description" : "PDF 点睛 - PDF编辑器 (PDF Expert 7) 来自 Readdle Inc. https:\/\/apps.apple.com\/cn\/app\/pdf-%E7%82%B9%E7%9D%9B-pdf%E7%BC%96%E8%BE%91%E5%99%A8-pdf-expert-7\/id743974925"
}
```

与host屏蔽主机不同，它是改写软件版本及用户ID，再用改写的信息对厂商服务器进行欺骗，获取验证。原因是：网上查找到 pdfexpert6版本是可买断的，证据充分。

据我目前所见软件买断转向订阅制的情况，无非二者：

* 将买断用户限制在此前更新的版本，如需使用后续版本需要订阅付费。
* 在后续升级过程中会保留此前买断用户的软件功能，新功能需要订阅费用。

PDF expert就属于上面提到的第二种情况。

### 附录

发现：

* https://github.com/baipiaomonster/httpcatcher
* https://streamja.com/RAmoX

![截屏2021-12-07 下午12.26.49.png](https://s2.loli.net/2021/12/07/k8dQLjfPFYMHA4q.png)

httpcatcher操作步骤：

1. 打开httpcatcher -> 更多 -> 点击 解密https流量 -> 确认弹窗提示项->再开启 解密https流量 -> 安装；此时会跳出Safari会下载文件，允许下载。
2. 下载好文件后，进入设置：
   1. 第一步：通用-> 描述文件 -> 安装；第二步：通用->关于本机->证书信任设置->启用
3. 导入hcc内购规则->更多->重写->重写列表开启，并勾选规则->再点击中心按钮
4. 打开需要内购订阅的软件，点击恢复购买。
